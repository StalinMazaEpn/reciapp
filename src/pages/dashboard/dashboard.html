<ion-header>
  <ion-toolbar>

    <div *ngIf="isLog; else elseHeader">
      <ion-grid>
        <ion-row>
          <ion-title text-center showWhen="ios">VECI</ion-title>
          <ion-col col-2>
            <button ion-button icon-only menuToggle>
              <ion-icon name="menu"></ion-icon>
            </button>
          </ion-col>
          <ion-col col-8>
            <ion-title text-center showWhen="android,windows">VECI</ion-title>
          </ion-col>
          <ion-col col-2>
            <ion-buttons item-end>
              <button ion-button icon-only (click)="openTips()">
                <ion-icon ios="ios-bulb" md="md-bulb"></ion-icon>
              </button>
            </ion-buttons>
          </ion-col>
        </ion-row>
      </ion-grid>

    </div>
    <ng-template #elseHeader>
      <ion-title showWhen="ios" text-center>Bienvenido!</ion-title>
      <button ion-button icon-only menuToggle>
        <ion-icon name="menu"></ion-icon>
        <ion-title text-center showWhen="android,windows">Bienvenido!</ion-title>
      </button>
    </ng-template>

  </ion-toolbar>
</ion-header>
<br/>
<br/>


<ion-content padding>

  <div *ngIf="isLog; else elseLogin">

    <div *ngIf="user !== undefined; else loading">
      <ion-list>
        <ion-item>
          <h2>{{(user)?.name}}</h2>
          <p>{{ (user)?.points.total }} pts.</p>
          <!--<ion-fab right bottom icon-only item-end>-->
          <!--<button ion-fab>-->
          <!--<ion-icon ios="ios-brush" md="md-brush"></ion-icon>-->
          <!--</button>-->
          <!--</ion-fab>-->
        </ion-item>
      </ion-list>

      <ion-card>
        <ion-card-content>
          <ion-card-title>
            Mi última entrega
          </ion-card-title>
          <p *ngIf="(user)?.lastDelivery; else elseMessage">
            hace {{(user)?.lastDelivery | amLocale:'es' | amTimeAgo:true}}
          </p>

          <ng-template #elseMessage>
            <p>Aún no tienes entregas</p>
          </ng-template>
        </ion-card-content>
      </ion-card>


      <ion-card>
        <ion-card-content>
          <ion-card-title>
            Mis entregas
          </ion-card-title>
          <p>
            Has registrado {{(user)?.totalDeliveries}} entrega{{(user)?.totalDeliveries > 1 ? 's' : ''}}
          </p>
        </ion-card-content>
      </ion-card>

      <br/>
      <br/>

      <ion-slides autoplay="2000" loop="true" speed="3000" pager="true">
        <ion-slide style="background-color:#F5AB35">
          <ion-grid>
            <ion-row>
              <ion-col col-8 center text-center>
                <h2>PAPEL</h2>
                <p text-justify>Este material que más contamina al planeta</p>
              </ion-col>
              <ion-col col-4 center text-center>
                <img class="image" src="../../assets/imgs/papel.png">
              </ion-col>
            </ion-row>
          </ion-grid>
        </ion-slide>

        <ion-slide style="background-color: #4B77BE">
          <ion-grid>
            <ion-row>
              <ion-col col-8 center text-center>
                <h2>PLÁSTICO</h2>
                <p text-justify>Este material es el más reciclado</p>
              </ion-col>
              <ion-col col-4 center text-center>
                <img class="image" src="../../assets/imgs/plastico.png">
              </ion-col>
            </ion-row>
          </ion-grid>
        </ion-slide>

        <ion-slide style="background-color:#1BBC9B">
          <ion-grid>
            <ion-row>
              <ion-col col-8 center text-center>
                <h2>VIDRIO</h2>
                <p text-justify>Sabias que, el vidrio tambien se puede reciclar</p>
              </ion-col>
              <ion-col col-4 center text-center>
                <img class="image" src="../../assets/imgs/vidrio.png">
              </ion-col>
            </ion-row>
          </ion-grid>
        </ion-slide>

      </ion-slides>

    </div>
  </div>

  <ng-template #loading>
    <ion-spinner name="circles"></ion-spinner>
    Cargando...
  </ng-template>

  <ng-template #elseLogin>
    <ion-row text-center>
      <ion-col col-12>
        <button ion-button round (click)="login()">Iniciar Sesión</button>
      </ion-col>
    </ion-row>
    <br>

    <ion-list>
      <ion-list-header color="light"> Personaliza tu experiencia.</ion-list-header>
      <ion-row text-center>
        <!--ion-col col-12>
          <span ion-button clear>Regístrate</span>
        </ion-col-->
        <ion-col>
          <button ion-button icon-left clear large (click)="register_mail()">
            <ion-icon ios="ios-mail" md="md-mail"></ion-icon>
          </button>
        </ion-col>
        <ion-col>
          <button ion-button icon-left clear large (click)="register_fb()">
            <ion-icon ios="logo-facebook" md="logo-facebook"></ion-icon>
          </button>
        </ion-col>
      </ion-row>
    </ion-list>
  </ng-template>


</ion-content>
